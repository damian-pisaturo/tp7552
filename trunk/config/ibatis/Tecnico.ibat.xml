<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<!DOCTYPE sqlMap PUBLIC "-//IBATIS.com//DTD SQL Map 2.0//EN"
	"http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap>

	<typeAlias alias="tecnico" type="laboratorio.vo.TecnicoVO" />
	
   	<resultMap id="resultadoTecnico" class="tecnico">
	   	<result property="id" column="id"/>
	   	<result property="nombre" column="nombre"/>
	</resultMap>

	<select id="tecnicosPorAreaSupervisor" resultMap="resultadoTecnico" parameterClass="java.util.HashMap">
		SELECT t.id as id, t.nombre as nombre
		FROM tecnico t 
		JOIN tecnico_area ta ON ta.tecnico_id = t.id
		JOIN supervisor_tecnico st ON st.tecnico_id = t.id
		WHERE ta.area_id = #areaId# AND st.supervisor_id = #supervisorId#
		ORDER BY t.nombre
	</select>

</sqlMap>